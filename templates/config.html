{% extends 'template.html' %} {% block title %}Configuración{% endblock %}

{% block content %}

<section class="hero is-primary">
  <div class="hero-body">
    <div class="container has-text-centered">
      <h1 class="title">Configuración del sistema</h1>
    </div>
  </div>
</section>

<section class="section">

<div class="columns">
  <div class="column is-6 is-offset-3">
        <h2 class="subtitle">{{ error }}</h2>
        <!-- <button id="edit_btn" class="button" onclick="grayer('f_1',false);">Editar</button> -->
        <form id="f_1" class="box" action="?action=save_config" method="post">
            <div class="field">
                <label class="label" for="titulo">Título:</label>
                <div class="control">
                  <input class="input" id="titulo" type="text" name="titulo" value="{{config.titulo}}">
                </div>
                <p class="help">Es el nombre que se mostrará en la barra de navegación</p>
            </div>

            <div class="field">
              <label class="label" for="email">Mail de contacto:</label>
              <div class="control">
                <input class="input" id="email" type="text" name="email" value="{{config.email}}" required>
              </div>
            </div>

            <div class="field">
              <label class="label" for="descripcion">Descripción:</label>
              <div class="control">
                <textarea class="textarea" id="descripcion" type="text" name="descripcion" value="{{config.descripcion}}" placeholder="{{config.descripcion}}" required></textarea>
              </div>
            </div>

            <div class="field">
              <label class="label">Cantidad de elementos por página en los listados</label>
                <div class="control">
                  <div class="select">
                    <select name="cant_elems">
                      <option selected>{{config.cant_elems}}</option>
                      <option>10</option>
                      <option>15</option>
                      <option>20</option>
                      <option>25</option>
                      <option>30</option>
                    </select>
                  </div>
                    <p class="help">Define cuantos usuarios y pacientes se muestran en sus respectivos listados</p>
              </div>
            </div>

            <div class="field">
              <label class="label">Deshabilitar sitio temporalmente</label>
              <div class="control">
                <div class="select">
                  <select name="estado">
                    <option>No</option>
                    <option>Si</option>
                  </select>
                </div>
                <p class="help">Si se encuentra deshabilitado lo podrá ver solamente el/los administradores del sistema</p>
              </div>
            </div>

            <div class="field is-grouped is-grouped-centered">
              <button type="submit" class="button is-primary" value="save_config">Guardar cambios</button>
              <button class="button is-light" onclick="window.location.href='/';">Cancelar</button>
            </div>

          </form>
        </div>
        </div>

     </section>

    {% block my_js %}
         <script type="text/javascript">
           function grayer(formId, yesNo) {
              var f = document.getElementById(formId), s, opacity;
              s = f.style;
              opacity = yesNo? '60' : '100';
              s.opacity = s.MozOpacity = s.KhtmlOpacity = opacity/100;
              s.filter = 'alpha(opacity='+opacity+')';
              for(var i=0; i<f.length; i++) f[i].disabled = yesNo;
           }
           // window.onload=function(){grayer('f_1',true);}; // disabled by default

           // function toggleText(button_id)  {
           //     var text = document.getElementById(button_id).firstChild;
           //     text.data = text.data == "Editar" ? "Cancelar" : "Editar";
           // }
         </script>
       {% endblock %}


{% endblock %}
