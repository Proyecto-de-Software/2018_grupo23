{% extends 'template.html' %} {% block title %}Agregar paciente{% endblock %}

{% block content %}

<form action="?action=add_patient" method="post">
  <h3>
    Agregar paciente
  </h3>
  <div class="form-group">
    <label>Apellido</label>
    <input type="text" class="input is-rounded" name="apellido" required>
  </div>
  <div class="form-group">
    <label>Nombre</label>
    <input type="text" class="input is-rounded" name="nombre" required>
  </div>
  <div class="form-group">
    <label>Fecha de nacimiento</label>
    <input type="date" class="input is-rounded" name="dob" required>
  </div>
  <div class="form-group">
    <label>Lugar de nacimiento</label>
    <input type="text" class="input is-rounded" name="dobplace">
  </div>
  <div class="select is-rounded">
    <label>Partido</label>
    <select name="partido" required>
      {% for partido in partidos %}
        <option>{{partido.nombre}}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label>Región sanitaria</label>
    <input type="text" class="input is-rounded" value="1" name="regions" readonly>
  </div>
  <div class="select is-rounded">
    <label>Localidad</label>
    <select name="localidad" required>
        <option>Localidad</option>
    </select>
  </div>
  <!-- ACA HAY QUE USAR JQUERY PARA CARGAR TANTO LA REGION COMO LA LOCALIDAD EN BASE AL PARTIDO     -->
  <div class="form-group">
    <label>Domicilio</label>
    <input type="text" class="input is-rounded" name="domicilio" required>
  </div>
  <div class="select is-rounded">
    <label>Género</label>
    <select name="genero" required>
        <option value=1>Masculino</option>
        <option value=2>Femenino</option>
        <option value=3>Otro</option>
    </select>
  </div>
  <div class="select is-rounded">
    <label>Tiene en su poder su documento</label>
    <select name="doccheck" required>
      <option value="TRUE">SÍ</option>
      <option value="FALSE">NO</option>
    </select>
  </div>
  <div class="select is-rounded">
    <label>Tipo de documento</label>
    <select name="typedoc" required>
      {% for tipo in tipo_doc %}
        <option value="{{tipo.id}}">{{tipo.nombre}}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label>Número de documento</label>
    <input type="number" class="input is-rounded" name="numdoc" required>
  </div>
  <div class="form-group">
    <label>Número de historia clínica</label>
    <input type="number" max="999999" class="input is-rounded" name="numhc">
  </div>
  <div class="form-group">
    <label>Número de carpeta</label>
    <input type="number" max="99999" class="input is-rounded" name="numcarpeta">
  </div>
  <div class="form-group">
    <label>Tel/Cel</label>
    <input type="text" class="input is-rounded" name="telefono">
  </div>
  <div class="select is-rounded">
    <label>Obra social</label>
    <select name="obra_social" required>
      {% for os in obras_sociales %}
        <option value="{{os.id}}">{{os.nombre}}</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <button type="submit" class="is-rounded" value="add_patient">Agregar paciente</button>
    <button class="is-rounded" onclick="window.location.href='/';"> Cancelar </button>
  </div>
</form>
{% endblock %}
